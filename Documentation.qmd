---
title: "Documentation"
---

Functions:

---
title: "Documentation"
format: html
---

# Package Functions

This page documents all functions included in our Python package.Â Â 
The functions are grouped into two modules:

- `cleaning.py` â€” scraping and cleaning raw ski resort dataÂ Â 
- `analysis.py` â€” analysis utilities for summary statistics and visualizationsÂ Â 


---

# ## Cleaning Module (`cleaning.py`)

## `fetch_raw_table(url, email)`
Scrapes the Wikipedia ski resort comparison table and returns the raw (uncleaned) DataFrame.

**Arguments**
- `url`: The Wikipedia page URLÂ Â 
- `email`: Your contact email for the scraperâ€™s User-AgentÂ Â 

**Returns**
- Raw `pandas.DataFrame` containing the table dataÂ Â 


---

## `remove_brackets(text)`
Removes bracketed citations (e.g., `[3]`) from text fields.

**Arguments**
- `text`: A string containing bracketed citation textÂ Â 

**Returns**
- Cleaned string with citations removedÂ Â 


---

## `clean_numeric(val)`
Removes non-numeric characters (commas, text, units) and converts values to float.

**Arguments**
- `val`: A string or number to cleanÂ Â 

**Returns**
- `float` value or `NaN`Â Â 


---

## `convert_numeric_columns(df, numeric_cols)`
Converts an entire list of columns to numeric using `clean_numeric()`.

**Arguments**
- `df`: DataFrame to modifyÂ Â 
- `numeric_cols`: List of columns to convertÂ Â 

**Returns**
- Updated DataFrame with numeric columnsÂ Â 


---

## `run_cleaning_pipeline(url, email)`
Runs the complete cleaning pipeline:

1. Scrapes the Wikipedia tableÂ Â 
2. Drops unnecessary columnsÂ Â 
3. Renames columnsÂ Â 
4. Removes missing snowfall rowsÂ Â 
5. Cleans string columnsÂ Â 
6. Converts numeric columnsÂ Â 

**Arguments**
- `url`: Wikipedia ski resorts comparison URLÂ Â 
- `email`: Contact email for scraperÂ Â 

**Returns**
- Clean, analysis-ready DataFrameÂ Â 

**Example**
```python
from snowpack.cleaning import run_cleaning_pipeline

df = run_cleaning_pipeline(
Â Â Â Â url="https://en.wikipedia.org/wiki/Comparison_of_North_American_ski_resorts",
Â Â Â Â email="example@byu.edu"
)


ðŸ“„ Analysis Module Documentation (analysis.py)
Overview
The analysis.py script provides all visualization and exploratory data analysis (EDA) functions for the Ski Resort Snowfall Analysis project. These functions generate plots, convert snowfall values to numeric, assign geographic regions, and run a full analysis pipeline.

Functions

### convert_snowfall_to_numeric(df)
Description:
Converts the Average Annual Snowfall (inches) column to a numeric data type. Invalid values are coerced to NaN.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Input ski resort dataset.
Returns:
Â Â Â Â â€¢Â Â Â Â DataFrame with the converted numeric snowfall column.

### plot_snowfall_distribution(df)
Description:
Plots a histogram + KDE curve of the distribution of annual snowfall across all resorts.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset containing snowfall values.
Returns:
Â Â Â Â â€¢Â Â Â Â None (displays plot).

### assign_regions(df)
Description:
Maps each U.S. state or Canadian province into a geographic region (e.g., "Western US", "Eastern Canada").
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset with State/Province column.
Returns:
Â Â Â Â â€¢Â Â Â Â DataFrame with a new Region column.

### plot_snowfall_by_region(df)
Description:
Creates a boxplot showing snowfall distributions across geographic regions.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset containing Region and snowfall values.
Returns:
Â Â Â Â â€¢Â Â Â Â None (displays plot).

### plot_top10_resorts(df)
Description:
Displays a horizontal barplot of the top 10 snowiest ski resorts based on average annual snowfall.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset containing snowfall values.
Returns:
Â Â Â Â â€¢Â Â Â Â None (displays plot).

### plot_state_average_snowfall(df)
Description:
Computes mean snowfall per state/province and plots the results in descending order.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset containing state/province and snowfall values.
Returns:
Â Â Â Â â€¢Â Â Â Â None (displays plot).

### plot_snowfall_vs_elevation(df)
Description:
Creates a scatterplot showing the relationship between peak elevation and annual snowfall.
Top 5 snowiest resorts are labeled.
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Dataset containing elevation and snowfall.
Returns:
Â Â Â Â â€¢Â Â Â Â None (displays plot).

### run_analysis_pipeline(df)
Description:
Runs the full analysis pipeline, including:
Â Â Â Â â€¢Â Â Â Â Converting snowfall to numeric
Â Â Â Â â€¢Â Â Â Â Assigning geographic regions
Â Â Â Â â€¢Â Â Â Â Plotting snowfall distribution
Â Â Â Â â€¢Â Â Â Â Plotting snowfall by region
Â Â Â Â â€¢Â Â Â Â Plotting top 10 resorts
Â Â Â Â â€¢Â Â Â Â Plotting state averages
Â Â Â Â â€¢Â Â Â Â Plotting snowfall vs. elevation
Parameters:
Â Â Â Â â€¢Â Â Â Â df (DataFrame): Cleaned ski resort dataset.
Returns:
Â Â Â Â â€¢Â Â Â Â DataFrame after all transformations (snowfall numeric, region assigned).
